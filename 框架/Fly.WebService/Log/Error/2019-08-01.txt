
** [2019-08-01 11:44:41.368] - Begin **************************************************************
[LogID]: 66538036-5904-492b-98ea-e5c7ca1cdc64
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:44:41.300
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 8
[StackTrace]: 
** [2019-08-01 11:44:41.368] - End ****************************************************************

** [2019-08-01 11:45:36.727] - Begin **************************************************************
[LogID]: 951a8253-72c4-4f92-919a-40625d8c26cd
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:45:36.724
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 9
[StackTrace]: 
** [2019-08-01 11:45:36.727] - End ****************************************************************

** [2019-08-01 11:47:36.791] - Begin **************************************************************
[LogID]: 89c4a0c1-f458-40e9-aa18-faadf7ada53d
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:47:36.786
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 5
[StackTrace]: 
** [2019-08-01 11:47:36.791] - End ****************************************************************

** [2019-08-01 11:50:36.847] - Begin **************************************************************
[LogID]: ae5d6c91-fd27-49a4-bed8-e0daadef0105
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:50:36.844
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 17
[StackTrace]: 
** [2019-08-01 11:50:36.847] - End ****************************************************************

** [2019-08-01 11:54:36.916] - Begin **************************************************************
[LogID]: 6e960607-133b-464b-b551-6d1bc1468ce0
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:54:36.912
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 16
[StackTrace]: 
** [2019-08-01 11:54:36.916] - End ****************************************************************

** [2019-08-01 11:58:37.022] - Begin **************************************************************
[LogID]: 2fcd74c8-e5da-4f3a-8808-75027b95695b
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'PlatformMerchantId' 无效。
列名 'MarkerPen' 无效。
列名 'ExchangeOffice' 无效。
列名 'PlatformMerchantId' 无效。
列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 11:58:37.019
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 17
[StackTrace]: 
** [2019-08-01 11:58:37.022] - End ****************************************************************

** [2019-08-01 12:03:37.161] - Begin **************************************************************
[LogID]: 033ff2c2-0b54-410b-b0dd-25fb3b735344
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 12:03:37.158
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 15
[StackTrace]: 
** [2019-08-01 12:03:37.161] - End ****************************************************************

** [2019-08-01 12:04:37.178] - Begin **************************************************************
[LogID]: 9e53ff27-6a46-4ec0-b0a7-779077ed3321
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 12:04:37.175
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 7
[StackTrace]: 
** [2019-08-01 12:04:37.178] - End ****************************************************************

** [2019-08-01 12:06:37.230] - Begin **************************************************************
[LogID]: a859192e-d714-4ac5-af1a-8c92c0288c6a
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 12:06:37.225
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 15
[StackTrace]: 
** [2019-08-01 12:06:37.230] - End ****************************************************************

** [2019-08-01 12:09:37.277] - Begin **************************************************************
[LogID]: dd8cf1a0-9061-4e2a-9abe-b1d0e7544c00
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 12:09:37.273
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 16
[StackTrace]: 
** [2019-08-01 12:09:37.277] - End ****************************************************************

** [2019-08-01 12:13:37.351] - Begin **************************************************************
[LogID]: 4c3caa2c-e18e-4451-a05e-72fa5ebb443a
[Source]: WMSLocal.WebService
[Category]: Error
[RequestUrl]: http://local.api.wmslocal.com/SO/Create
[UserHostName]: 127.0.0.1
[UserHostAddress]: 127.0.0.1
[OperatorUser]: [admin] Administrator
[Content]: IBB360.Framework.SqlDbAccess.DaoSqlException: 列名 'RemarkForWarehouse' 无效。
<<Connection String>> : Data Source=localhost;Initial Catalog=WMSLocal.Queue;Integrated Security=False;Persist Security Info=False;User ID=sa;Password=123; Max Pool Size=4096; Min Pool Size=10
<<SQL Script>> : 
INSERT INTO
	[WMSLocal.Sales].[dbo].[SO]
(
	[Id]
	,[WHOrderNo]
	,[MerchantId]
	,[MerchantOrderNo]
	,[StockId]
	,[Status]
	,[InventoryType]
	,[Type]
	,[BatchCode]
	,[CCode]
	,[ExpressCompanyCode]
	,[ExpressTrackingNo]
	,[PaymentCompanyCode]
	,[PaymentTransactionNo]
	,[BuyerRegNo]
	,[BuyerIdCardType]
	,[BuyerIdCardNo]
	,[BuyerIdCardName]
	,[BuyerPhone]
	,[PayerIdCardType]
	,[PayerIdCardNo]
	,[PayerIdCardName]
	,[ReceiverName]
	,[ReceiverProvince]
	,[ReceiverCity]
	,[ReceiverDistrict]
	,[ReceiverStreetAddress]
	,[ReceiverZipCode]
	,[ReceiverPhone]
	,[GoodsFeeAmt]
	,[ShippingFeeAmt]
	,[InsuredFeeAmt]
	,[DiscountAmt]
	,[TaxFeeAmt]
	,[ActuralPaidAmt]
    ,[ItemPriceIncludeTax]
	,[RemarkForCustoms]
	,[RemarkForWarehouse]
	,[OriginalPackageState]
	,[NeedFakedCode]
	,[ExtensionFields]
	,[CreatedBy]
	,[CreatedOn]
    ,[MarkerPen]
    ,[ExchangeOffice]
    ,[PlatformMerchantId]
)
SELECT TOP 1
	@Id AS [Id],
	@WHOrderNo AS [WHOrderNo],
	@MerchantId AS [MerchantId],
	@MerchantOrderNo AS [MerchantOrderNo],
	@StockId AS [StockId],
	@Status AS [Status],
	@InventoryType AS [InventoryType],
	@Type AS [Type],
	@BatchCode AS [BatchCode],
	@CCode AS [CCode],
	@ExpressCompanyCode AS [ExpressCompanyCode],
	@ExpressTrackingNo AS [ExpressTrackingNo],
	@PaymentCompanyCode AS [PaymentCompanyCode],
	@PaymentTransactionNo AS [PaymentTransactionNo],
	@BuyerRegNo AS [BuyerRegNo],
	@BuyerIdCardType AS [BuyerIdCardType],
	@BuyerIdCardNo AS [BuyerIdCardNo],
	@BuyerIdCardName AS [BuyerIdCardName],
	@BuyerPhone AS [BuyerPhone],
	@PayerIdCardType AS [PayerIdCardType],
	@PayerIdCardNo AS [PayerIdCardNo],
	@PayerIdCardName AS [PayerIdCardName],
	@ReceiverName AS [ReceiverName],
	@ReceiverProvince AS [ReceiverProvince],
	@ReceiverCity AS [ReceiverCity],
	@ReceiverDistrict AS [ReceiverDistrict],
	@ReceiverStreetAddress AS [ReceiverStreetAddress],
	@ReceiverZipCode AS [ReceiverZipCode],
	@ReceiverPhone AS [ReceiverPhone],
	@GoodsFeeAmt AS [GoodsFeeAmt],
	@ShippingFeeAmt AS [ShippingFeeAmt],
	@InsuredFeeAmt AS [InsuredFeeAmt],
	@DiscountAmt AS [DiscountAmt],
	@TaxFeeAmt AS [TaxFeeAmt],
	@ActuralPaidAmt AS [ActuralPaidAmt],
    @ItemPriceIncludeTax AS [ItemPriceIncludeTax],
	@RemarkForCustoms AS [RemarkForCustoms],
	@RemarkForWarehouse AS [RemarkForWarehouse],
	@OriginalPackageState AS [OriginalPackageState],
	@NeedFakedCode AS [NeedFakedCode],
	@ExtensionFields AS [ExtensionFields],
	@CreatedBy AS [CreatedBy],
	GETDATE() AS [CreatedOn],
    @MarkerPen AS [MarkerPen],
    @ExchangeOffice AS [ExchangeOffice],
    @PlatformMerchantId AS [PlatformMerchantId]
WHERE
	NOT EXISTS
	(
		SELECT TOP 1
			1
		FROM
			[WMSLocal.Sales].[dbo].[SO] WITH(NOLOCK)
		WHERE
			[WHOrderNo]=@WHOrderNo
			OR ([PlatformMerchantId]=@PlatformMerchantId AND [MerchantOrderNo]=@MerchantOrderNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [PaymentTransactionNo] IS NOT NULL AND @PaymentTransactionNo IS NOT NULL AND [PaymentTransactionNo]=@PaymentTransactionNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [ExpressTrackingNo] IS NOT NULL AND @ExpressTrackingNo IS NOT NULL AND [ExpressTrackingNo]=@ExpressTrackingNo AND [Status]<>-1)
			OR ([MerchantId]=@MerchantId AND [CCode] IS NOT NULL AND @CCode IS NOT NULL AND [CCode]=@CCode AND [Status]<>-1)
	)
IF @@ROWCOUNT>0
BEGIN
    INSERT INTO
	    [WMSLocal.Sales].[dbo].[SOItem]
    (
	    [Id]
	    ,[SOId]
	    ,[ItemId]
	    ,[UnitPrice]
        ,[DeclaredUnitPrice]
	    ,[Qty]
        ,[TaxRate]
        ,[SummaryTaxAmt]
	    ,[MinExpiryDate]
	    ,[MaxExpiryDate]
	    ,[PickingPriority]
        ,[RemarkForWarehouse]
    )
    SELECT
        'a10c9423-b19b-40a8-a011-6622c73c518a' AS [Id],
        @Id AS [SOId],
        '57509a39-3501-46b4-8803-880842a8969b' AS [ItemId],
        15.00 AS [UnitPrice],
        15.00 AS [DeclaredUnitPrice],
        2 AS [Qty],
        0.091000 AS [TaxRate],
        4.73 AS [SummaryTaxAmt],
        NULL AS [MinExpiryDate],
        NULL AS [MaxExpiryDate],
        0 AS [PickingPriority],
        '' AS [RemarkForWarehouse]
END
<<SQL Parameter(s)>> :
@Id [Guid] : 19a7fd03-dc0b-43d3-8130-e13c28cfe8df [System.Guid]
@WHOrderNo [String] : Harry2019080100001 [System.String]
@MerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
@MerchantOrderNo [String] : 1323123 [System.String]
@StockId [Guid] : c64b4f64-7262-4b9a-9770-c82649042726 [System.Guid]
@Status [Int32] : 1 [System.Int32]
@InventoryType [Int32] : 0 [System.Int32]
@Type [Int32] : 2 [System.Int32]
@BatchCode [String] :  [System.DBNull]
@CCode [String] : 21312312312312 [System.String]
@ExpressCompanyCode [String] : YUNDA [System.String]
@ExpressTrackingNo [String] :  [System.DBNull]
@PaymentCompanyCode [String] : Alipay [System.String]
@PaymentTransactionNo [String] : 123123123 [System.String]
@BuyerRegNo [String] : a8705e39786b47efa66e0b313a33c827 [System.String]
@BuyerIdCardType [String] : 1 [System.String]
@BuyerIdCardNo [String] : 620422199311153212 [System.String]
@BuyerIdCardName [String] : 王菲 [System.String]
@BuyerPhone [String] : 18012121212 [System.String]
@PayerIdCardType [String] : 1 [System.String]
@PayerIdCardNo [String] :  [System.DBNull]
@PayerIdCardName [String] :  [System.DBNull]
@ReceiverName [String] : 王菲 [System.String]
@ReceiverProvince [String] : 四川省 [System.String]
@ReceiverCity [String] : 成都市 [System.String]
@ReceiverDistrict [String] : 锦江区 [System.String]
@ReceiverStreetAddress [String] : 委屈翁 [System.String]
@ReceiverZipCode [String] :  [System.DBNull]
@ReceiverPhone [String] : 18012121212 [System.String]
@GoodsFeeAmt [Decimal] : 30.00 [System.Decimal]
@ShippingFeeAmt [Decimal] : 12.00 [System.Decimal]
@InsuredFeeAmt [Decimal] : 10.00 [System.Decimal]
@DiscountAmt [Decimal] : 0.00 [System.Decimal]
@TaxFeeAmt [Decimal] : 4.73 [System.Decimal]
@ActuralPaidAmt [Decimal] : 56.73 [System.Decimal]
@ItemPriceIncludeTax [Boolean] : False [System.Boolean]
@RemarkForCustoms [String] :  [System.DBNull]
@RemarkForWarehouse [String] :  [System.String]
@OriginalPackageState [Int32] : 0 [System.Int32]
@NeedFakedCode [Boolean] : False [System.Boolean]
@ExtensionFields [String] :  [System.DBNull]
@CreatedBy [Guid] : 5a4797a5-1e6c-4791-9b4f-c236f05172d3 [System.Guid]
@MarkerPen [String] :  [System.DBNull]
@ExchangeOffice [String] :  [System.DBNull]
@PlatformMerchantId [Guid] : 97f203ce-1979-4e52-874c-0366c95e117e [System.Guid]
 ---> System.Data.SqlClient.SqlException: 列名 'RemarkForWarehouse' 无效。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 24
   --- 内部异常堆栈跟踪的结尾 ---
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(String connStrKey, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteBySpecifiedConnStrKey.cs:行号 30
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, CommandType cmdType, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 13
   在 IBB360.Framework.SqlDbAccess.SqlHelper.ExecuteNonQuery(DbInstance instance, String cmdText, Object parameter) 位置 D:\公司源码\trunk\ibb360\src\new\IBB360.Framework\IBB360.Framework.SqlDbAccess\SqlHelper_ExecuteByDefaultConnStrKey.cs:行号 18
   在 IBB360.WMSLocal.APIImpls.Sales.SOApi.Create(SO so) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.APIImpls\Sales\SOApi.cs:行号 364
   在 IBB360.WMSLocal.WebService.Controllers.SOController.Create(RestfulMessage msg) 位置 D:\公司源码\trunk\ibb360\source_code\IBB360.WMSLocal\IBB360.WMSLocal.WebService\Controllers\SOController.cs:行号 21
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<BeginInvokeSynchronousActionMethod>b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
[ServerIP]: 192.168.0.137
[ServerName]: DESKTOP-03QPLOV
[ServerTime]: 2019-08-01 12:13:37.348
[ProcessID]: 19604
[ProcessName]: w3wp
[ThreadID]: 19
[StackTrace]: 
** [2019-08-01 12:13:37.351] - End ****************************************************************
